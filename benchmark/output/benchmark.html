<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Api Benchmark :: report</title>
    <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/excanvas.min.js"></script><![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasTextRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.highlighter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/plugins/jqplot.cursor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.6.1/lodash.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.8/jquery.jqplot.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/dark.min.css" type="text/css" />

    <style type="text/css">
      .jqplot-target {
        color: #F1F1F1;
      }
      table.jqplot-table-legend, table.jqplot-cursor-legend {
        background-color: rgba(101, 0, 253, 0.89)
      }

      body {
        background: #3D3D3D;
        color: #F1F1F1;
      }

      a {
        color: #6699FF;
      }

      #report-details, #charts {
        width: 100%;
        float: left;
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
      }

      #report-details {
        margin-bottom: 20px;
        text-align: center;
      }

      .buttons {
        width: 100%;
        border-bottom: 1px solid rgb(75, 72, 72);
        padding-bottom: 10px;
        margin-bottom: 10px;
        text-align: right;
      }

      .button {
        margin-right: 10px;
        padding: 6px;
        text-decoration: none;
      }

      .button.selected {
        background-color: rgb(56, 56, 56);
      }

      .chart {
        width: 60%;
        height: 450px;
        float: left;
      }

      .distchart {
        width: 96%;
        height: 450px;
        float: left;
      }

      .panel {
        height: 450px;
        overflow-y: auto;
      }

      .route {
        width: 90%;
        margin: 3%;
        padding: 2%;
        float: left;
        background-color: #000000;
        border-radius: 15px;
      }
      .stats-details {
        font-family: "Trebuchet MS",Arial,Helvetica,sans-serif;
        font-size: 15px;
        float: left;
        width: 36%;
        padding: 2%;
      }

      .green {
        color: green;
      }

      .red {
        color: red;
      }

      .hide {
        display:none;
      }

      pre code {
        overflow-x: auto;
      }

    </style>
  </head>
  <body>
    <script><!--
    var data={"benchmark":{"dev":{"eventsList":{"name":"dev/eventsList","href":"http://localhost:43200/api/events","stats":{"sample":[0.031841513,0.009293444,0.008350896,0.007344417,0.007250501,0.007217396,0.009711696,0.008403482,0.007431616,0.007353234,0.006978178,0.007260146,0.006772199,0.006900876,0.007018519,0.0068291,0.007190197,0.007618766,0.007098237,0.007614198],"mean":0.00877393055,"singleMean":0.00877393055,"variance":0.000030109320879030997,"deviation":0.005487196085345501,"sem":0.0012269743452703278,"moe":0.002568057304650796,"rme":29.26917747999266,"p75":0.0081678635,"p95":0.030735022149999985,"p99":0.031841513,"p999":0.031841513},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-10-12T23:39:08.093Z","end":"2021-10-12T23:39:08.269Z"},"request":{},"response":{"header":{"x-powered-by":"Express","access-control-allow-origin":"*","content-type":"application/json; charset=utf-8","content-length":"2644","etag":"W/\"a54-TWOKlSFe5c5/9u6HoNuLfF0J6sw\"","date":"Tue, 12 Oct 2021 23:39:08 GMT","connection":"close"},"statusCode":200,"body":"[{\"location_name\":\"Some Remote Place\",\"location_address\":\"The Carribean, Central America\",\"contact_email\":\"tribalsymposium@geemail.com\",\"contact_phone\":\"(555) 555-5555\",\"status\":\"open\",\"id\":2,\"name\":\"Tribal Symposium\",\"description\":\"\\n          <p>Join us on the tropical island of Ustupu, Guna Yala during the annual celebration of the Nele Kantule festival\\n          . Four tribes from 3 countries will be assembling for an inter-tribal education exchange as part\\n          of our Tribal Symposium taking place during the festival.</p>\\n\\n          <p>\\n            <b>Nele Kantule</b>\\n            <br/>\\n            Nele Kantule is the warrior chief that lead the Guna warriors to victory against the Panamanian government in 1925.\\n            With this victory, the Guna Yala is recognized as an independant and autonomous indigienous nation within the borders\\n            of the Panamanian territory.\\n          </p>\\n\\n          <p>\\n            <b>Directions</b>\\n            <ul>\\n              <li>Boat: You can catch a lancha at the docks in Miramar, total travel time in boat is 10 hours and costs ~$100.</li>\\n              <li>Plane: Take a bi-plane from panama city to the Island of Gaigirgordub and take a water taxi to Ustupu.</li>\\n            </ul>\\n          </p>\\n        \",\"time_start\":\"2021-10-14T12:00:00.000Z\",\"time_end\":\"2021-10-18T00:00:00.000Z\"},{\"location_name\":\"Some Fancy Place\",\"location_address\":\"Winners Circle, Town Heights\",\"contact_email\":\"kathy@geemail.com\",\"contact_phone\":\"(555) 555-5555\",\"status\":\"open\",\"id\":1,\"name\":\"29th Annual Event: Gourmet Gala\",\"description\":\"<p>This promises to be a great event with good food for a\\n         good cause! Be sure to save the date and click the link below to register\\n          for the event. We hope to see you there!</p> <p>Even if you canâ€™t make it \\n          to the event, please consider donating in support of this worthy cause!</p>\\n          \\n          <h3>Meal Options</h3>\\n\\n          <ul>\\n            <li>Turkey sandwich</li>\\n            <li>Ham sandwich</li>\\n            <li>PB&J</li>\\n          </ul>\\n          \\n          \",\"time_start\":\"2021-10-23T21:00:00.000Z\",\"time_end\":\"2021-10-24T01:00:00.000Z\"},{\"location_name\":\"The Lazy Dog\",\"location_address\":\"123 Main St, Anytown\",\"contact_email\":\"thelazydog@geemail.com\",\"contact_phone\":\"555 555 5555\",\"status\":\"open\",\"id\":7,\"name\":\"Lazy Dog Fundraiser\",\"description\":\"<img src=\\\"http://i.ibb.co/vjbz1Pc/HSVC-Flier-lazydog.jpg\\\"><br/>Humane Society of Ventura County. This event has no tickets or sessions.\",\"time_start\":\"2021-11-10T21:00:00.000Z\",\"time_end\":\"2021-11-11T01:00:00.000Z\"}]","type":"application/json"},"hz":113.97400450132353,"isFastest":true},"eventsDetail":{"name":"dev/eventsDetail","href":"http://localhost:43200/api/events/2","stats":{"sample":[0.036192477,0.016048115,0.010903454,0.010395909,0.011505236,0.01087129,0.013041169,0.013363988,0.011346253,0.01171804,0.010272724,0.01144151,0.010602459,0.010135739,0.011207344,0.015668421,0.01217767,0.012795036,0.011113974,0.012931799],"mean":0.013186630350000002,"singleMean":0.013186630350000002,"variance":0.00003196702989717718,"deviation":0.005653939325565599,"sem":0.0012642592672623993,"moe":0.002646094646380202,"rme":20.06649595952465,"p75":0.0130138265,"p95":0.03518525889999999,"p99":0.036192477,"p999":0.036192477},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-10-12T23:39:15.270Z","end":"2021-10-12T23:39:15.534Z"},"request":{},"response":{"header":{"x-powered-by":"Express","access-control-allow-origin":"*","content-type":"application/json; charset=utf-8","content-length":"2467","etag":"W/\"9a3-+b11/4ZO+wFwFAM9JcpvYOugNqQ\"","date":"Tue, 12 Oct 2021 23:39:15 GMT","connection":"close"},"statusCode":200,"body":"{\"location_name\":\"Some Remote Place\",\"location_address\":\"The Carribean, Central America\",\"contact_email\":\"tribalsymposium@geemail.com\",\"contact_phone\":\"(555) 555-5555\",\"status\":\"open\",\"id\":2,\"name\":\"Tribal Symposium\",\"description\":\"\\n          <p>Join us on the tropical island of Ustupu, Guna Yala during the annual celebration of the Nele Kantule festival\\n          . Four tribes from 3 countries will be assembling for an inter-tribal education exchange as part\\n          of our Tribal Symposium taking place during the festival.</p>\\n\\n          <p>\\n            <b>Nele Kantule</b>\\n            <br/>\\n            Nele Kantule is the warrior chief that lead the Guna warriors to victory against the Panamanian government in 1925.\\n            With this victory, the Guna Yala is recognized as an independant and autonomous indigienous nation within the borders\\n            of the Panamanian territory.\\n          </p>\\n\\n          <p>\\n            <b>Directions</b>\\n            <ul>\\n              <li>Boat: You can catch a lancha at the docks in Miramar, total travel time in boat is 10 hours and costs ~$100.</li>\\n              <li>Plane: Take a bi-plane from panama city to the Island of Gaigirgordub and take a water taxi to Ustupu.</li>\\n            </ul>\\n          </p>\\n        \",\"time_start\":\"2021-10-14T12:00:00.000Z\",\"time_end\":\"2021-10-18T00:00:00.000Z\",\"tickets\":[{\"description\":\"Join us for the Kantule festival and observe the inter-tribal educational exchange sessions.\",\"price\":0,\"status\":\"open\",\"id\":3,\"label\":\"Visitor\"},{\"description\":\"Register to participate in the educational exchange sessions.\",\"price\":0,\"status\":\"open\",\"id\":4,\"label\":\"Tribe Member\"}],\"sessions\":[{\"description\":\"Learn to farm, harvest, and process chocolate using organic practices and traditional tools\",\"status\":\"open\",\"id\":1,\"label\":\"Chocolate Cultivation\",\"price\":0},{\"description\":\"Learn to weave hammocks using a traditional loom and hand rolled cotton fiber\",\"status\":\"open\",\"id\":2,\"label\":\"Hammock Weaving\",\"price\":0},{\"description\":\"Learn to carve traditional Boruca masks from balsa wood\",\"status\":\"open\",\"id\":3,\"label\":\"Mascaras Diablos (carving)\",\"price\":0},{\"description\":\"Learn to paint traditional Boruca masks\",\"status\":\"sold out\",\"id\":4,\"label\":\"Mascaras Diablos (painting)\",\"price\":0},{\"description\":\"Chicha is a traditional fermented sugar cane drink served from a communcal totuma.\",\"status\":\"open\",\"id\":6,\"label\":\"Chicha Ceremony\",\"price\":20}]}","type":"application/json"},"hz":75.83438478655768,"isFastest":true},"eventsRegistration":{"name":"dev/eventsRegistration","href":"http://localhost:43200/api/events/2/register","stats":{"sample":[0.014017816,0.009521455,0.010900324,0.009648013,0.007518214,0.004621676,0.004321033,0.009578931,0.004032878,0.004980584,0.005393905,0.004014203,0.004121521,0.004883594,0.004469837,0.005847089,0.004860444,0.004668931,0.004311447,0.004347601],"mean":0.006302974800000001,"singleMean":0.006302974800000001,"variance":0.000008263950407252376,"deviation":0.0028747087517264035,"sem":0.0006428044184373804,"moe":0.0013453896477894371,"rme":21.345312181629485,"p75":0.00902064475,"p95":0.013861941399999998,"p99":0.014017816,"p999":0.014017816},"errors":{},"options":{"method":"post","concurrencyLevel":1,"start":"2021-10-12T23:39:20.700Z","end":"2021-10-12T23:39:20.827Z"},"request":{"data":{"id":1,"name":"Tribal Symposium","description":"<p>Inter-tribal workshops</p>","time_start":"2021-10-15 08:00:00","time_end":"2021-10-15 20:00:00","location_name":"Some Remote Place","location_address":"The Carribean, Central America","contact_email":"tribalsymposium@geemail.com","contact_phone":"(555) 555 5555","status":"open","tickets":[{"id":1,"label":"Free","description":"General admission","price":0,"status":"open"}],"sessions":[{"id":1,"label":"Chocolate Cultivation","description":"Learn to farm, harvest, and process chocolate using organic practices and traditional tools","price":0,"status":"open"},{"id":2,"label":"Hammock Weaving","description":"Learn to weave hammocks using a traditional loom and hand rolled cotton fiber","price":0,"status":"open"},{"id":3,"label":"Mascaras Diablos (carving)","description":"Learn to carve traditional Boruca masks from balsa wood","price":0,"status":"open"},{"id":4,"label":"Mascaras Diablos (painting)","description":"Learn to paint traditional Boruca masks","price":0,"status":"sold out"}]}},"response":{"header":{"x-powered-by":"Express","access-control-allow-origin":"*","content-type":"application/json; charset=utf-8","content-length":"100","etag":"W/\"64-Xvau9/otcwoNTzZpv65FG8u+1U4\"","date":"Tue, 12 Oct 2021 23:39:20 GMT","connection":"close"},"statusCode":400,"body":"{\"status\":400,\"message\":\"There was an error processing your request:\\n\\nattendees must be an array\"}","type":"application/json"},"hz":158.6552432353053,"isFastest":true},"isFastest":true},"cloud":{"eventsList":{"name":"cloud/eventsList","href":"https://fierce-earth-47000.herokuapp.com//api/events","stats":{"sample":[0.465181039,0.391316998,0.559473444,0.471142651,0.569887709,0.451814999,0.555542844,0.484825122,0.257969591,0.25435214,0.261271996,0.252938896,0.269974121,0.265011252,0.254636037,0.248626747,0.242805419,0.234121681,0.250847068,0.252547265],"mean":0.34971435095,"singleMean":0.34971435095,"variance":0.016043465867661182,"deviation":0.12666280380467337,"sem":0.028322663952796864,"moe":0.059279335653203834,"rme":16.950787261709838,"p75":0.46965224800000005,"p95":0.5693669957499999,"p99":0.569887709,"p999":0.569887709},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-10-12T23:39:08.271Z","end":"2021-10-12T23:39:15.267Z"},"request":{},"response":{"header":{"server":"Cowboy","connection":"close","x-powered-by":"Express","access-control-allow-origin":"*","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"150","date":"Tue, 12 Oct 2021 23:39:08 GMT","via":"1.1 vegur"},"statusCode":404,"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot GET //api/events</pre>\n</body>\n</html>\n","type":"text/html"},"hz":2.85947659077615,"isSlowest":true},"eventsDetail":{"name":"cloud/eventsDetail","href":"https://fierce-earth-47000.herokuapp.com//api/events/2","stats":{"sample":[0.24949945,0.251043491,0.255522189,0.249313489,0.253225474,0.247730467,0.250023046,0.23942556,0.273505378,0.261818528,0.281926136,0.26398749,0.320225312,0.244424748,0.23608456,0.245607916,0.275726256,0.261079267,0.269370968,0.233249303],"mean":0.2581394514,"singleMean":0.2581394514,"variance":0.00038725223841605717,"deviation":0.019678725528246416,"sem":0.0044002967991719445,"moe":0.009209821200666879,"rme":3.5677697270673283,"p75":0.2680250985,"p95":0.31831035319999995,"p99":0.320225312,"p999":0.320225312},"errors":{},"options":{"method":"get","concurrencyLevel":1,"start":"2021-10-12T23:39:15.535Z","end":"2021-10-12T23:39:20.698Z"},"request":{},"response":{"header":{"server":"Cowboy","connection":"close","x-powered-by":"Express","access-control-allow-origin":"*","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"152","date":"Tue, 12 Oct 2021 23:39:15 GMT","via":"1.1 vegur"},"statusCode":404,"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot GET //api/events/2</pre>\n</body>\n</html>\n","type":"text/html"},"hz":3.8738751267060296,"isSlowest":true},"eventsRegistration":{"name":"cloud/eventsRegistration","href":"https://fierce-earth-47000.herokuapp.com//api/events/2/register","stats":{"sample":[0.256387657,0.250554345,0.245980966,0.247399951,0.244144085,0.258333689,0.465258325,0.486206394,0.548390158,0.277613279,0.240665236,0.237411866,0.264470603,0.250376871,0.249236079,0.25270076,0.271709696,0.244835255,0.257285039,0.260533537],"mean":0.29047468955,"singleMean":0.29047468955,"variance":0.008445135309536911,"deviation":0.0918974173170112,"sem":0.02054888720775034,"moe":0.04300882092582146,"rme":14.806391907140076,"p75":0.26989992275,"p95":0.5452809698,"p99":0.548390158,"p999":0.548390158},"errors":{},"options":{"method":"post","concurrencyLevel":1,"start":"2021-10-12T23:39:20.828Z","end":"2021-10-12T23:39:26.638Z"},"request":{"data":{"id":1,"name":"Tribal Symposium","description":"<p>Inter-tribal workshops</p>","time_start":"2021-10-15 08:00:00","time_end":"2021-10-15 20:00:00","location_name":"Some Remote Place","location_address":"The Carribean, Central America","contact_email":"tribalsymposium@geemail.com","contact_phone":"(555) 555 5555","status":"open","tickets":[{"id":1,"label":"Free","description":"General admission","price":0,"status":"open"}],"sessions":[{"id":1,"label":"Chocolate Cultivation","description":"Learn to farm, harvest, and process chocolate using organic practices and traditional tools","price":0,"status":"open"},{"id":2,"label":"Hammock Weaving","description":"Learn to weave hammocks using a traditional loom and hand rolled cotton fiber","price":0,"status":"open"},{"id":3,"label":"Mascaras Diablos (carving)","description":"Learn to carve traditional Boruca masks from balsa wood","price":0,"status":"open"},{"id":4,"label":"Mascaras Diablos (painting)","description":"Learn to paint traditional Boruca masks","price":0,"status":"sold out"}]}},"response":{"header":{"server":"Cowboy","connection":"close","x-powered-by":"Express","access-control-allow-origin":"*","content-security-policy":"default-src 'none'","x-content-type-options":"nosniff","content-type":"text/html; charset=utf-8","content-length":"162","date":"Tue, 12 Oct 2021 23:39:21 GMT","via":"1.1 vegur"},"statusCode":404,"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot POST //api/events/2/register</pre>\n</body>\n</html>\n","type":"text/html"},"hz":3.442640739367648,"isSlowest":true},"isSlowest":true}},"info":{"date":"2021-10-12T23:39:26.646Z","apiName":"dev"}};
    // --></script>
    <div id="report">
      <div id="report-details"><h1>Api Benchmark report</h1></div>
      <div id="charts"></div>
    </div>
    <div style="text-align: center">
    Generated by <a href="https://github.com/matteofigus/api-benchmark" target="_blank">api-benchmark</a><br /><br />
    <iframe src="http://ghbtns.com/github-btn.html?user=matteofigus&repo=api-benchmark&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
    </div>
    <script>

      var selectors = {
        charts: '#charts',
        reportDetails: '#report-details',
        panel: '.panel',
        panels: {
          stats: '.stats',
          distribution: '.distribution',
          response: '.response',
          request: '.request'
        },
        button: '.button',
        buttons: {
          stats: '.button-stats',
          distribution: '.button-distribution',
          response: '.button-response',
          request: '.button-request'
        }
      };

      var formatNumber = function(number) {
        number = String(number).split('.');
        return number[0].replace(/(?=(?:\d{3})+$)(?!\b)/g, ',') +
          (number[1] ? '.' + number[1] : '');
      };

      var formatDate = function(date){
        return date.replace(/T/g, ' ').replace(/Z/g, ' ');
      };

      var fixNumber = function(number, digits){
        return formatNumber(number.toFixed(digits));
      };

      var decodeHtml = function(text){
        return $('<div/>').text(text).html();
      };

      var templates = {
        reportDetails: function(info){
          var formattedDate = formatDate(info.date);
          return 'Benchmarked ' + info.apiName + ' on ' + formattedDate;
        },
        route: function(routeData, i){
          var errorsCount = 0,
              errorsDesc = '(',
              duration = (new Date(routeData.options.end) - new Date(routeData.options.start))/1e3;

          for(var errorType in routeData.errors){
            errorsCount += routeData.errors[errorType].length;
            errorsDesc += routeData.errors[errorType].length + ' ' + errorType + ',';
          }

          if(errorsCount == 0)
            errorsDesc = '';
          else
            errorsDesc = errorsDesc.substr(0, errorsDesc.length - 1) + ')';

          var template = '<div class="route"><div class="buttons">' +
            '<a href="#stats" class="button button-stats selected">Stats</a>' +
            '<a href="#distribution" class="button button-distribution">Distribution</a>' +
            '<a href="#request" class="button button-request">Request details</a>' +
            '<a href="#response" class="button button-response">Response details</a>' +
            '</div><div class="stats panel"><div class="chart" id="chart' + i + '"></div>' +
            '<div class="stats-details"><ul><li>' + routeData.stats.sample.length + ' run' +
            (routeData.stats.sample.length > 1 ? 's' : '') + ' sampled with concurrency: ' +
            routeData.options.concurrencyLevel + '</li>';

          if(routeData.options.expectedStatusCode)
            template += '<li>Expected status code: ' + routeData.options.expectedStatusCode + '</li>';

          if(routeData.options.maxMean)
            template += '<li>Expected max mean: ' + routeData.options.maxMean + '</li>';

          if(routeData.options.maxSingleMean)
            template += '<li>(*) Expected max mean across all concurrent requests: ' + routeData.options.maxSingleMean + '</li>';

          template += '</ul><ul><li>Started: ' + formatDate(routeData.options.start) + '</li>' +
            '<li>Ended: ' + formatDate(routeData.options.end) + ' (' + duration + ' seconds)</li>' +
            '<li>' + fixNumber(routeData.hz, 2) + ' ops/sec \xb1 ' + fixNumber(routeData.stats.rme, 2) + '%</li>' +

            '<li class="' + (!errorsCount ? 'green' : 'red') + '">' + errorsCount + ' error' +
            (errorsCount == 1 ? '' : 's') + ' ' + errorsDesc + '</li>' +

            '<li>Sample arithmetic mean: ' + fixNumber(routeData.stats.mean, 6) + '</li>';

          if(routeData.options.concurrencyLevel > 1)
            template += '<li>Mean across all the concurrent requests: ' + fixNumber(routeData.stats.singleMean, 6) + '</li>';

          template += '<li>Sample standard deviation: ' + fixNumber(routeData.stats.deviation, 6) + '</li>' +
            '<li>Margin of error: ' + fixNumber(routeData.stats.moe, 6) + '</li>' +
            '<li>The standard error of the mean: ' + fixNumber(routeData.stats.sem, 6) + '</li>' +
            '<li>The sample variance: ' + fixNumber(routeData.stats.variance, 6) + '</li>' +
            '</ul><ul><li>75% Percentile: ' + fixNumber(routeData.stats.p75, 6) + '</li>' +
            '<li>95% Percentile: ' + fixNumber(routeData.stats.p95, 6) + '</li>' +
            '<li>99% Percentile: ' + fixNumber(routeData.stats.p99, 6) + '</li>' +
            '<li>99.9% Percentile: ' + fixNumber(routeData.stats.p999, 6) + '</li>' +
            '</ul></div></div><div class="distribution panel"><div class="distchart" id="distchart' + i + '">' +
            '</div></div><div class="request panel hide">Request: ' + routeData.options.method.toUpperCase() +
            ' <a href="' + routeData.href + '" target="_blank">' +
            routeData.href + '</a><br />Concurrency level: ' + routeData.options.concurrencyLevel + '<br />';

          if(routeData.options.delay)
            template += 'Delay between bench cycles: ' + routeData.options.delay + '<br />';

          var requestHeaders = 'none',
              requestData = 'none',
              requestQuery = 'none';

          if(!!routeData.request.headers)
            requestHeaders = '<br /><pre><code>' + JSON.stringify(routeData.request.headers, undefined, 2) + '</pre></code>';

          if(!!routeData.request.data)
            requestData = '<br /><pre><code>' + JSON.stringify(routeData.request.data, undefined, 2) + '</pre></code>';

          if(!!routeData.request.query)
            requestQuery = '<br /><pre><code>' + JSON.stringify(routeData.request.query, undefined, 2) + '</pre></code>';

          template += '<br />Headers sent: ' + requestHeaders + '<br />Data sent: ' + requestData + '<br />Query sent: ' + requestQuery + '<br /></div><div class="response panel hide">Data here refers to the first sampled response.<br /><br />';

          var responseHeader = JSON.stringify(routeData.response.header, undefined, 2),
              responseBody = '';

          try {
            responseBody = JSON.stringify(JSON.parse(decodeHtml(routeData.response.body)), undefined, 2);
          } catch(e){
            responseBody = decodeHtml(routeData.response.body);
          }

          template += 'Response status: ' + routeData.response.statusCode + '<br />Response headers:<br />' +
            '<pre><code>' + responseHeader + '</code></pre>' +
            '<br />Response body:<br /><pre><code>' + responseBody + '</code></pre><br /></div></div>';

          return template;
        }
      };

      var bindButtons = function(){
        var bindButton = function(panelName){
          $(selectors.buttons[panelName]).click(function(){
            var $sender = $(this),
                $panelsContainer = $sender.parent().parent();

            $panelsContainer.find(selectors.button).removeClass('selected');
            $sender.addClass('selected');

            $panelsContainer.find(selectors.panel).addClass('hide');
            $panelsContainer.find(selectors.panels[panelName]).removeClass('hide');

            return false;
          });
        };

        bindButton('stats');
        bindButton('distribution');
        bindButton('response');
        bindButton('request');
      };

      $(function(){
        $(selectors.reportDetails).append(templates.reportDetails(data.info));

        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            if(routeName == 'isSlowest' || routeName == 'isFastest') { 
              continue; 
            }
            $(selectors.charts).append(templates.route(data.benchmark[serviceName][routeName], counter));

            var samples = data.benchmark[serviceName][routeName]['stats']['sample'],
                meanArray = [],
                mean = data.benchmark[serviceName][routeName]['stats']['mean'],
                singleMeanArray = [],
                singleMean = data.benchmark[serviceName][routeName]['stats']['singleMean'],
                maxMeanArray = [],
                maxMean = data.benchmark[serviceName][routeName].options.maxMean !== undefined,
                maxSingleMeanArray = [],
                maxSingleMean = data.benchmark[serviceName][routeName].options.maxSingleMean !== undefined,
                errorsArray = [],
                areThereSomeErrors = false;

            for(var i = 0; i < samples.length; i++){
              meanArray.push(mean);
              singleMeanArray.push(singleMean);

              errorsArray.push(null);

              if(maxMean)
                maxMeanArray.push(data.benchmark[serviceName][routeName].options.maxMean);

              if(maxSingleMean)
                maxSingleMeanArray.push(data.benchmark[serviceName][routeName].options.maxSingleMean);
            }

            for(var errorType in data.benchmark[serviceName][routeName].errors){
              var errorsOfType = data.benchmark[serviceName][routeName]['errors'][errorType];
              for(var i = 0; i < errorsOfType.length; i++){
                if(errorsOfType[i].pos !== undefined){
                  errorsArray[errorsOfType[i].pos] = data.benchmark[serviceName][routeName]['stats']['sample'][errorsOfType[i].pos];
                  areThereSomeErrors = true;
                }
              }
            }

            var getSeriesOptions = function(label, color){
              return {
                showMarker: false,
                pointLabels: { show: true },
                label: label,
                color: color
              };
            };

            var lines = [samples],
                series = [getSeriesOptions('Samples', '#6699FF')];

            if(maxMean){
              lines.push(maxMeanArray);
              series.push(getSeriesOptions('Max Mean', '#F90'));
            }

            lines.push(meanArray);
            series.push(getSeriesOptions('Mean', '#66FF00'));

            if(maxSingleMean){
              lines.push(maxSingleMeanArray);
              series.push(getSeriesOptions('Max Single Mean (*)', '#EBFF00'));

              lines.push(singleMeanArray);
              series.push(getSeriesOptions('Single mean', '#FC6333'));
            }

            if(areThereSomeErrors > 0){
              lines.push(errorsArray);
              series.push({
                showLine:false,
                markerOptions: { size: 7, style:'x' },
                label: 'Errors',
                color: '#FF0000'
              });
            }

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              cursor:{
                show: true,
                zoom:true,
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Samples',
                  pad: 0
                },
                yaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.6f'
                  }
                }
              },
              series: series
            };

            $.jqplot('chart' + counter, lines, options);
            counter++;
          }
        }
        hljs.initHighlightingOnLoad();
        bindButtons();
      });

      $(function(){
        var counter = 0;
        for(serviceName in data.benchmark){
          for(routeName in data.benchmark[serviceName]){
            if(routeName == 'isSlowest' || routeName == 'isFastest') { 
              continue; 
            }
            var samples = data.benchmark[serviceName][routeName]['stats']['sample'];
            var sortedSamples = _.orderBy(samples);
            var totalDelta = sortedSamples[sortedSamples.length - 1] - sortedSamples[0];

            var bucketCount = ~~Math.min(totalDelta*1000, sortedSamples.length);
            var delta = totalDelta/bucketCount;

            var buckets = [[sortedSamples[0] + delta/2.0, 0]];

            for (var i = 0; i < samples.length; i++) {
              var s = sortedSamples[i];
              while(s > (sortedSamples[0] + buckets.length * delta)) {
                buckets.push([(sortedSamples[0] + buckets.length * delta + delta/2.0), 0]);
              }
              buckets[buckets.length - 1][1]++;
            }

            buckets = _.map(buckets, function(b){
              return [b[0], 100*b[1]/samples.length];
            });


            var lines = [buckets],
                series = [{
                  showMarker: false,
                  pointLabels: { show: true },
                  label: 'Samples',
                  color: '#6699FF',
                  rendererOptions: {
                    smooth: true
                  }
                }];

            var options = {
              title: {
                text: data.benchmark[serviceName][routeName]['name'],
                color: '#F1F1F1'
              },
              animate: true,
              grid: {
                background: '#000000', textColor: '#F1F1F1'
              },
              seriesDefaults:{
                rendererOptions: {
                  showDataLabels: true
                }
              },
              highlighter: {
                show: true,
                sizeAdjust: 7.5
              },
              legend: {
                show:true,
                location: 'se',
                background: 'rgba(101, 0, 253, 0.89)'
              },
              cursor:{
                show: true,
                zoom:true,
              },
              axesDefaults: {
                labelRenderer: $.jqplot.CanvasAxisLabelRenderer
              },
              axes: {
                xaxis: {
                  label: 'Response time (seconds)',
                  tickOptions: {
                    formatString:'%.3f'
                  }
                },
                yaxis: {
                  label: 'Percent of responses',
                  tickOptions: {
                    formatString: '%.1f%'
                  }
                }
              },
              series: series
            };

            $.jqplot('distchart' + counter, lines, options);
            counter++;
          }
        }
        $(".distribution.panel").addClass('hide');
      });
    </script>
  </body>
</html>
